{"version":3,"file":"config_popup.min.js","sources":["../src/config_popup.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Functions for the block configuration popup\n *\n * @module     block_exaaichat\n * @copyright  2025 GTN Solutions https://gtn-solutions.com\n * @copyright  based on work by Limekiller https://github.com/Limekiller/moodle-block_openai_chat\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * init function, which is called when the instance form is displayed\n */\nexport function init() {\n  const addActivityButton = document.getElementById(\"config_add_placeholder_button\");\n  const activityDropdown = document.getElementById(\"config_placeholder_dropdown\");\n  // Info: using the name of the field, because the element id iscreated dynamically by moodle\n  const messageTextarea = document.getElementsByName(\"config_sourceoftruth\")[0];\n\n  if (!addActivityButton || !activityDropdown || !messageTextarea) {\n    return;\n  }\n\n  // enable button (was disabled in form config by default)\n  addActivityButton.disabled = false;\n  addActivityButton.addEventListener('click', async () => {\n    messageTextarea.value += (messageTextarea.value ? \"\\n\" : \"\") + activityDropdown.value;\n\n    // scroll to bottom of the textarea\n    messageTextarea.scrollTo({\n      top: messageTextarea.scrollHeight,\n      behavior: 'smooth'\n    });\n  });\n}\n"],"names":["addActivityButton","document","getElementById","activityDropdown","messageTextarea","getElementsByName","disabled","addEventListener","async","value","scrollTo","top","scrollHeight","behavior"],"mappings":";;;;;;;;;iBA4BQA,kBAAoBC,SAASC,eAAe,iCAC5CC,iBAAmBF,SAASC,eAAe,+BAE3CE,gBAAkBH,SAASI,kBAAkB,wBAAwB,OAEtEL,oBAAsBG,mBAAqBC,uBAKhDJ,kBAAkBM,UAAW,EAC7BN,kBAAkBO,iBAAiB,SAASC,UAC1CJ,gBAAgBK,QAAUL,gBAAgBK,MAAQ,KAAO,IAAMN,iBAAiBM,MAGhFL,gBAAgBM,SAAS,CACvBC,IAAKP,gBAAgBQ,aACrBC,SAAU"}