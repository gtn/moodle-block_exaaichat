{"version":3,"file":"config_popup.min.js","sources":["../src/config_popup.js"],"sourcesContent":["/**\n * init function, which is called when the instance form is displayed\n */\nexport function init() {\n  const addActivityButton = document.getElementById(\"config_add_activity_button\");\n  const activityDropdown = document.getElementById(\"config_activity_dropdown\");\n  // Info: using the name of the field, because the element id iscreated dynamically by moodle\n  const userMessageTextarea = document.getElementsByName(\"config_user_message\")[0];\n\n  if (!addActivityButton || !activityDropdown || !userMessageTextarea) {\n    return;\n  }\n\n  // enable button (was disabled in form config by default)\n  addActivityButton.disabled = false;\n  addActivityButton.addEventListener('click', () => {\n    const selectedActivity = activityDropdown.value;\n\n    const selectContent = activityDropdown.options[activityDropdown.selectedIndex].text;\n    // TODO: Ã¼bersetzen\n    const placeholder = `Result of ${selectContent} is: {grade:${selectedActivity}}`;\n    userMessageTextarea.value += (userMessageTextarea.value ? \"\\n\" : \"\") + placeholder;\n\n    // scroll to bottom of the textarea\n    userMessageTextarea.scrollTo({\n      top: userMessageTextarea.scrollHeight,\n      behavior: 'smooth'\n    });\n  });\n}\n"],"names":["addActivityButton","document","getElementById","activityDropdown","userMessageTextarea","getElementsByName","disabled","addEventListener","selectedActivity","value","selectContent","options","selectedIndex","text","placeholder","scrollTo","top","scrollHeight","behavior"],"mappings":"6JAIQA,kBAAoBC,SAASC,eAAe,8BAC5CC,iBAAmBF,SAASC,eAAe,4BAE3CE,oBAAsBH,SAASI,kBAAkB,uBAAuB,OAEzEL,oBAAsBG,mBAAqBC,2BAKhDJ,kBAAkBM,UAAW,EAC7BN,kBAAkBO,iBAAiB,SAAS,WACpCC,iBAAmBL,iBAAiBM,MAEpCC,cAAgBP,iBAAiBQ,QAAQR,iBAAiBS,eAAeC,KAEzEC,gCAA2BJ,qCAA4BF,sBAC7DJ,oBAAoBK,QAAUL,oBAAoBK,MAAQ,KAAO,IAAMK,YAGvEV,oBAAoBW,SAAS,CAC3BC,IAAKZ,oBAAoBa,aACzBC,SAAU"}