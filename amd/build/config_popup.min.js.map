{"version":3,"file":"config_popup.min.js","sources":["../src/config_popup.js"],"sourcesContent":["/**\n * init function, which is called when the instance form is displayed\n */\nexport function init() {\n  // Info: using the name of the field, because the element id is created dynamically by moodle\n  let addActivityButton = document.getElementsByName(\"config_add_activity_button\")[0];\n  let activityDropdown = document.getElementsByName(\"config_activity_dropdown\")[0];\n  let userMessageTextarea = document.getElementsByName(\"config_user_message\")[0];\n\n  if (!addActivityButton || !activityDropdown || !userMessageTextarea) {\n    return;\n  }\n\n  // enable button (was disabled in form config by default)\n  addActivityButton.disabled = false;\n  addActivityButton.addEventListener('click', () => {\n    let selectedActivity = activityDropdown.value;\n\n    let selectContent = activityDropdown.options[activityDropdown.selectedIndex].text;\n    // TODO: Ã¼bersetzen\n    let placeholder = `Result of ${selectContent} is: {grade:${selectedActivity}}`;\n    userMessageTextarea.value += (userMessageTextarea.value ? \"\\n\" : \"\") + placeholder;\n\n    // scroll to bottom of the textarea\n    userMessageTextarea.scrollTo({\n      top: userMessageTextarea.scrollHeight,\n      behavior: 'smooth'\n    });\n  });\n}\n"],"names":["addActivityButton","document","getElementsByName","activityDropdown","userMessageTextarea","disabled","addEventListener","selectedActivity","value","selectContent","options","selectedIndex","text","placeholder","scrollTo","top","scrollHeight","behavior"],"mappings":"2JAKMA,kBAAoBC,SAASC,kBAAkB,8BAA8B,GAC7EC,iBAAmBF,SAASC,kBAAkB,4BAA4B,GAC1EE,oBAAsBH,SAASC,kBAAkB,uBAAuB,OAEvEF,oBAAsBG,mBAAqBC,2BAKhDJ,kBAAkBK,UAAW,EAC7BL,kBAAkBM,iBAAiB,SAAS,SACtCC,iBAAmBJ,iBAAiBK,MAEpCC,cAAgBN,iBAAiBO,QAAQP,iBAAiBQ,eAAeC,KAEzEC,gCAA2BJ,qCAA4BF,sBAC3DH,oBAAoBI,QAAUJ,oBAAoBI,MAAQ,KAAO,IAAMK,YAGvET,oBAAoBU,SAAS,CAC3BC,IAAKX,oBAAoBY,aACzBC,SAAU"}