define("block_exaaichat/block_instance_config",["exports","jquery","core/str"],(function(_exports,_jquery,_str){var obj;
/**
   * Functions for the block configuration popup
   *
   * @module     block_exaaichat
   * @copyright  2025 GTN Solutions https://gtn-solutions.com
   * @copyright  based on work by Limekiller https://github.com/Limekiller/moodle-block_openai_chat
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){const $form=(0,_jquery.default)('input[type="hidden"][value="exaaichat"]').closest("form"),$select=$form.find('select[name="config_api_type"]'),oldValue=$select.val();$select.on("change",(async function(){if(confirm(await(0,_str.getString)("block_instance:config:api_type:change","block_exaaichat"))){let submitbutton=$form.find('input[name="submitbutton"]');submitbutton.length?submitbutton[0].click():$form.closest(".modal-content").find(':button[data-action="save"]')[0].click()}else $select.val(oldValue)}));const $addPlaceholderBtn=$form.find("#config_add_placeholder_button"),$placeholderDropdown=$form.find("#config_placeholder_dropdown"),$messageTextarea=$form.find('textarea[name="config_sourceoftruth"]');$addPlaceholderBtn.length&&($addPlaceholderBtn.prop("disabled",!1),$addPlaceholderBtn.click((async()=>{$messageTextarea.val($messageTextarea.val()+($messageTextarea.val()?"\n":"")+$placeholderDropdown.val()),$messageTextarea[0].scrollTo({top:$messageTextarea[0].scrollHeight,behavior:"smooth"})})))},_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj}}));

//# sourceMappingURL=block_instance_config.min.js.map